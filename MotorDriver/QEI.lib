http://mbed.org/users/aberk/code/QEI/#4d7d86c7bfa0
